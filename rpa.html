<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="tk/mermaid.min.css">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
<style>
li {
	padding-bottom: 30px !important;
	margin-left: 80px !important;
	margin-right: 80px !important;
}
small {
    display: inline-block !important;
    font-size: 0.6em !important;
    line-height: 1.2em !important;
    vertical-align: top !important;
}
b {
	font-weight: bold !important;
}
</style>
	</head>

	<body>

<div class="reveal">
	<div class="slides">

<section>
	<p>A New Formula Similarity Model for Searching Math Expressions using Subtree Leaf-Root Paths</a>
	<div style="height:60px;"></div>
	<div style="height:60px;"></div>
	<p>
		<small>Wei Zhong</small>
	</p>
	<p>
		<small>Advisor: Richard Zanibbi</small>
	</p>
</section>

<section>
	<h3>Mathematical Information Retrieval (MIR)</h3>
	<div style="height:60px;"></div>
	<small>
	<ul>
		<li>Detect and extract math expressions from document (e.g., PDF)</li>
		<li>Computation query and knowledge search (e.g., WolframAlpha)</li>
		<li>Handwriten/image recognition for math</li>
		<li>Search math by similarity</li>
	</ul>
	</small>
</section>

<section>
	<h3>Search math by similarity</h3>
	<div style="height:60px;"></div>
	<img src="img/approach0.png" height="500px" />
	<br/>
	<small>(screenshot of Approach0 math-aware search engine)</small>
</section>

<section>
	<h3>Search text by similarity</h3>
	<div style="height:60px;"></div>
	<small>
	<ul>
		<li>Representation (e.g., Bag of words)</li>
		<li>Similarity measurement (e.g., TF-IDF)</li>
		<li>Retrieval model (e.g., Inverted index)</li>
	</ul>
	</small>
	<img src="img/bag-of-words.jpg" height="300px" />
	<br/>
	<small>https://i0.wp.com/thecaffeinedev.com/wp-content/uploads/2017/12/bag.jpg</small>
</section>

<section>
	<h3>Search math by similarity</h3>
	<div style="height:60px;"></div>
	<small>
	<ul>
		<li>Need new representation</li>
			<ul>
				<li>Symbols can be used interchangeably</li>
				<li>Math is structured rather than linear</li>
			</ul>
		<li>Need new similarity measurement</li>
			<ul>
				<li>Commutativity/associativity</li>
				<li>Sub-expression identification</li>
			</ul>
		<li>New retrieval model?</li>
	</ul>
	</small>
</section>

<section>
	<h3>Math representation </h3>
	<div style="height:20px;"></div>
	<small>(Text-based)</small>
	<div style="height:20px;"></div>
	<img src="img/mias-perm.png" height="480px" />
	<br/>
	<small>(Sojka, Petr, and Martin Líška. "Indexing and searching mathematics in digital libraries.")</small>
</section>

<section>
	<h3>Math representation</h3>
	<div style="height:40px;"></div>
	<small>(Symbol Layout Tree)</small>
	<div style="height:20px;"></div>
	<img src="img/slt-example.svg"/>
	<br/>
	<p>$a+b^{2+c}$</p>
	<div style="height:60px;"></div>
	<img src="img/slt-example2.svg"/>
	<br/>
	<p>$a+b^{2+c} + \frac 1 x$</p>
</section>

<section>
	<h3>Math representation </h3>
	<div style="height:40px;"></div>
	<small>(Operator Tree)</small>
	<div style="height:20px;"></div>
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a
	add --- power
	power --- base
	power --- add2("ADD")
	base --- b("b")
	add2 --- 2("2")
	add2 --- c("c")
</div>
	<p>$a+b^{2+c}$</p>
</section>

<!-- aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa  -->
<section>
	<h3>Similarity measurement</h3>
	<div style="height:20px;"></div>
	<small>(Query being a subexpression of candidate expression)</small>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
</section>

<!-- bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb  -->
<section>
	<h3>Similarity measurement</h3>
	<div style="height:20px;"></div>
	<small>(By alignment of subtree structure/finding isomorphism)</small>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
style add2 stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:4px;
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:4px;
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
	<div style="height:50px;"></div>
	<small>Formula subtree (matching from the bottom)</small>
</section>

<section>
	<p>Needs for efficiency</p>
	<div style="height:70px;"></div>
	<small>$O((m^{1.5} / \log m) \cdot n)$ time complexity$^{[1]}$ for finding subtree isomorphism</small>
	<br/>
	<small>$O(n + m)$ time complexity$^{[2]}$ for finding largest common forest between rooted trees, but requires vertex matching outdegree, it also needs parent/children info to construct a Directed Acyclic Graph before starting aligning nodes</small>
	</br/>
	<div style="height:70px;"></div>
	<small style="text-align: left">
[1] Ron Shamir, Dekel Tsur, Faster Subtree Isomorphism, Journal of Algorithms. 1999.<br/>
[2] G. Valiente, "An efficient bottom-up distance between trees," Proceedings Eighth Symposium on String Processing and Information Retrieval, 2001.
	</small>
</section>

<!-- leaf-root paths -->
<section>
	<h3>Similarity measurement</h3>
	<div style="height:20px;"></div>
	<small>(leaf-root paths)</small>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
style add2 stroke:#080,stroke-width:9px
style times1 stroke:#080,stroke-width:9px
style b stroke:#080,stroke-width:9px
style a stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:9px;
linkStyle 2 stroke:#080,stroke-width:9px;
linkStyle 3 stroke:#080,stroke-width:4px;
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:9px
style times1 stroke:#080,stroke-width:9px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:9px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:9px;
linkStyle 2 stroke:#080,stroke-width:9px;
linkStyle 3 stroke:#080,stroke-width:4px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
	<small>Assumption: <br/>leaf-root paths match $\iff$ corresponding structure aligned</small>
</section>

<!-- leaf-root paths (assumption) -->
<section>
	<h3>Similarity measurement</h3>
	<div style="height:20px;"></div>
	<small>(leaf-root paths)</small>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
style add2 stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:4px;
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style times2 stroke:#080,stroke-width:4px
style y stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:4px;
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 4 stroke:#080,stroke-width:4px;
linkStyle 6 stroke:#080,stroke-width:4px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	<small>Reality: <br/>
	leaf-root paths match $\nRightarrow$ corresponding structure aligned.
	<br/>
	(not injective mapping)
	</small>
	</div>
</section>

<section>
	<p>Vandermonde-like identities</p>
	<div style="height:70px;"></div>
<small>
$$ 2 \sum_{k=0}^{r-1} \binom{n}{2k+1} \binom{n}{2r-2k-1} = \binom{2n}{2r} - (-1)^k \binom{n}{r} $$
$$ 2 \sum_{k=0}^r \binom{n}{2k} \binom{n}{2r-2k} = \binom{2n}{2r} + (-1)^k \binom{n}{r} $$
</small>

	<div style="height:70px;"></div>
<small>(https://math.stackexchange.com/questions/216752)</small>
</section>

<!-- prefix leaf-root paths -->
<section>
	<h3>Similarity measurement</h3>
	<small>(Capturing multiple subtrees' structure isomorphism)</small>
	<div style="height:20px;"></div>
	<div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add2 stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
style times2 stroke:#800,stroke-width:4px
style x stroke:#800,stroke-width:4px
style y stroke:#800,stroke-width:4px
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
linkStyle 4 stroke:#080,stroke-width:4px;
linkStyle 5 stroke:#080,stroke-width:4px;
linkStyle 7 stroke:#800,stroke-width:4px;
linkStyle 8 stroke:#800,stroke-width:4px;
</div>
		<small>Query:<br/> $ (a+bc)+xy $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 0 stroke:#080,stroke-width:4px;
linkStyle 1 stroke:#080,stroke-width:4px;
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
style times2 stroke:#800,stroke-width:4px
style x stroke:#800,stroke-width:4px
style y stroke:#800,stroke-width:4px
linkStyle 5 stroke:#800,stroke-width:4px;
linkStyle 6 stroke:#800,stroke-width:4px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
	<div style="height:50px;"></div>
	<small>Common formula subforest $\pi \in \Pi(T_q, T_d)$</small>
</section>

<!-- prefix leaf-root paths (argument) -->
<section>
	<h3>Similarity measurement</h3>
	<small>(Beyond single maximum alignment)</small>
	<div style="height:20px;"></div>
	<div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES ")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2  stroke:#080,stroke-width:4px;
linkStyle 3  stroke:#080,stroke-width:4px;
linkStyle 4  stroke:#080,stroke-width:4px;
linkStyle 5  stroke:#080,stroke-width:4px;
style add2   stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 7  stroke:#800,stroke-width:4px;
linkStyle 8  stroke:#800,stroke-width:4px;
style times2 stroke:#800,stroke-width:4px
style x      stroke:#800,stroke-width:4px
style y      stroke:#800,stroke-width:4px
</div>
		<small>$(a+bc) + xy$ <br/> $T_1$</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES ")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:4px;
linkStyle 1  stroke:#080,stroke-width:4px;
linkStyle 2  stroke:#080,stroke-width:4px;
linkStyle 3  stroke:#080,stroke-width:4px;
style add  stroke: #080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 5 stroke:#800,stroke-width:4px;
linkStyle 6 stroke:#800,stroke-width:4px;
style times2 stroke:#800,stroke-width:4px
style x stroke:#800,stroke-width:4px
style y stroke:#800,stroke-width:4px
</div>
		<small>$a+bc + xy$ <br/> $T_2$</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- POWER
	POWER --- x("x")
	POWER --- y("y")
linkStyle 0  stroke:#080,stroke-width:4px;
linkStyle 1  stroke:#080,stroke-width:4px;
linkStyle 2  stroke:#080,stroke-width:4px;
linkStyle 3  stroke:#080,stroke-width:4px;
style add stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
</div>
		<small>$a+bc + x^y$ <br/> $T_3$</small>
		</div>
	</div>
	<div style="height:50px;"></div>
	<small>Formula tree similarity<br/>
$\Gamma(T_1, T_2) = \gamma(\pi_{1,2} \in \Pi(T_1, T_2)) = (3, 2)$  <br/>
is greater than<br/>
$\Gamma(T_1, T_3) = \gamma(\pi_{1,3} \in \Pi(T_1, T_3)) = (3, 0)$
	</small>
</section>

<!-- Model (high level idea)--> 
<section>
	<h3>Retrieval model</h3>
	<div style="height:20px;"></div>
	<small>(High-level idea)</small>
	<ul>
		<li>Break the tree into different "prefixed" leaf-root paths.</li>
		<li>Index "hit lists" that represents the matched paths.</li>
		<li>At query processing time, repeat until we find $k$ best matched formula subtree:</li>
		<ul>
			<li><small>Find the maximum common subtree using hit lists.</small></li>
			<li><small>Exclude the previous matched leaf-root paths and find the next best matched formula subtree.</small></li>
		</ul>
	</ul>
</section>

<!-- Model (notation)--> 
<section>
	<h3>Retrieval model</h3>
	<div style="height:20px;"></div>
	<small>(Notation of prefixed leaf-root path)</small>
		<div style="text-align:center">
			<div style="width:270px; display: inline-block">
<div class="mermaid">
graph TD;
	add("ADD<br/>#10")
	group("GROUP<br/>#8")
	add --- group
	group --- add2
	add2("ADD<br/>#7")
	add2 --- a("a<br/>#1")
	add2 --- times1("TIMES<br/>#6")
	times1 --- b("b<br/>#2")
	times1 --- c("c<br/>#3")

	add --- times2("TIMES <br/>#9")
	times2 --- x("x<br/>#4")
	times2 --- y("y<br/>#5")
linkStyle 3 stroke:#009,stroke-width:4px;
linkStyle 4 stroke:#009,stroke-width:4px;
style add2 stroke:#009,stroke-width:4px
style times1 stroke:#009,stroke-width:4px
style b stroke:#009,stroke-width:4px
</div>
			</div>
		</div>
		<small>Number the nodes and denote path: 7~2</small>
</section>

<!-- Model (hit list)--> 
<section>
	<h3>Retrieval model</h3>
	<div style="height:20px;"></div>
	<small>(Hit list)</small>
	<div>
		<div width="100px" style="display:inline-block">
		<img src="img/hitlist.png"></img>
		<br/>
		<small>Hit lists (ordered from short to long)</small>
		</div>
		<div style="display: inline-block; width: 40px;"></div>
		<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD<br/>#10")
	group("GROUP<br/>#8")
	add --- group
	group --- add2
	add2("ADD<br/>#7")
	add2 --- a("a<br/>#1")
	add2 --- times1("TIMES<br/>#6")
	times1 --- b("b<br/>#2")
	times1 --- c("c<br/>#3")

	add --- times2("TIMES <br/>#9")
	times2 --- x("x<br/>#4")
	times2 --- y("y<br/>#5")
linkStyle 2 stroke:#080,stroke-width:4px;
linkStyle 3 stroke:#080,stroke-width:4px;
linkStyle 4 stroke:#080,stroke-width:4px;
linkStyle 5 stroke:#080,stroke-width:4px;
style add2  stroke:#080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 7 stroke:#800,stroke-width:4px;
linkStyle 8 stroke:#800,stroke-width:4px;
style times2 stroke:#800,stroke-width:4px
style x stroke:#800,stroke-width:4px
style y stroke:#800,stroke-width:4px
</div>
		<small>$(a+bc) + xy$</small>
		</div>
		<div style="display: inline-block; width: 40px;"></div>
		<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD<br/>#8")
	add --- a("a<br/>#1")
	add --- times1("TIMES<br/>#6")
	times1 --- b("b<br/>#2")
	times1 --- c("c<br/>#3")
	add --- times2("TIMES <br/>#7")
	times2 --- x("x<br/>#4")
	times2 --- y("y<br/>#5")
linkStyle 0  stroke:#080,stroke-width:4px;
linkStyle 1  stroke:#080,stroke-width:4px;
linkStyle 2  stroke:#080,stroke-width:4px;
linkStyle 3  stroke:#080,stroke-width:4px;
style add  stroke: #080,stroke-width:4px
style times1 stroke:#080,stroke-width:4px
style a stroke:#080,stroke-width:4px
style b stroke:#080,stroke-width:4px
style c stroke:#080,stroke-width:4px
linkStyle 5 stroke:#800,stroke-width:4px;
linkStyle 6 stroke:#800,stroke-width:4px;
style times2 stroke:#800,stroke-width:4px
style x stroke:#800,stroke-width:4px
style y stroke:#800,stroke-width:4px
</div>
		<small>$a+bc + xy$</small>
		</div>
</div>
</section>

<!-- Model (table 1)--> 
<section>
	<h3>Retrieval model</h3>
	<div style="height:15px;"></div>
	<small>(By assumption, "most-hit" cell corresponds to the best matched subtree)</small>
	<div style="height:15px;"></div>

<table border="1" style="font-size: 30px">
<tr>
<th>Qry\Doc</th><th>8~1, 8~2, 8~3, 8~4, 8~5</th><th>6~2, 6~3</th><th>7~4, 7~5</th>
</tr>
<tr><th>7~1, 7~2, 7~3</th><td style="background-color: #d4cbd0"> <7~1, 8~1>, <br/><7~2, 8~2>, <br/><7~3, 8~3> </td><td>   </td><td>   </td></tr>
<tr><th>6~2, 6~3     </th><td>            </td><td> <6~2, 6~2>, <6~3, 6~3> </td><td> <6~2, 7~4>, <6~3, 7~5> </td></tr>
<tr><th>9~4, 9~5     </th><td>            </td><td> <9~4, 6~2>, <9~5, 6~3> </td><td> <9~4, 7~4>, <9~5, 7~5> </td></tr>
<tr><th>10~4, 10~5   </th><td> <10~4, 8~2>, <10~5, 8~3>   </td><td>   </td><td>   </td></tr>
</table>
	<div style="height:20px;"></div>
	<small>1st iteration</small>

</section>

<!-- Model (table 2)--> 
<section>
	<small>2nd iteration ...</small>
<table border="1" style="font-size: 30px">
<tr>
<th>Qry\Doc</th><th>8~1, 8~2, 8~3, 8~4, 8~5</th><th>6~2, 6~3</th><th>7~4, 7~5</th>
</tr>
<tr><th>7~1, 7~2, 7~3</th><td style="background-color: #d4cbd0"> <7~1, 8~1>, <br/><7~2, 8~2>, <br/><7~3, 8~3> </td><td>   </td><td>   </td></tr>
<tr><th>6~2, 6~3     </th><td>            </td><td> <6~2, 6~2>, <6~3, 6~3> </td><td> <6~2, 7~4>, <6~3, 7~5> </td></tr>
<tr><th>9~4, 9~5     </th><td>            </td><td> <9~4, 6~2>, <9~5, 6~3> </td><td style="background-color: #eae0e6"> <9~4, 7~4>, <9~5, 7~5> </td></tr>
<tr><th>10~4, 10~5   </th><td> <10~4, 8~2>, <10~5, 8~3>   </td><td>   </td><td>   </td></tr>
</table>
	<div style="height:30px;"></div>
	<small>Compute next best matched subtree by excluding path $S_q=\{1,2,3\}$ and 
	 $S_d=\{1,2,3\}$ </small>
	<small>Greedily count aligned "internal nodes" by looking at "subtree cells" in this table.</small>
	<small>Final formula tree similarity ($k=3$) score: (3, 2, 0)</small>
</section>

<!-- Scoring function --> 
<section>
	<h3>Scoring</h3>
	<div style="height:50px;"></div>
<small>
Scoring function (combine structure and symbol set similarity):
	<div style="height:20px;"></div>
$$
\frac{ S_{\text{st}} S_{\text{sy}} }{ S_{\text{st}} + S_{\text{sy}} }
\left[ (1-\alpha)  + \alpha \frac 1 {\log(1 + |\mathcal{P}(T_d)|)} \right]
\quad (\alpha = 0.05)
$$
	<div style="height:50px;"></div>
Structure similarity $S_{\text{st}}$ is determined by top-3 width values:
	<div style="height:20px;"></div>
$$
S_{\text{st}} = \max(0, \frac{w_1}{|\mathcal{P}(T_q)|} - 0.1) + \beta_2 \frac{w_2}{|\mathcal{P}(T_q)|} + \beta_3 \frac{w_3}{|\mathcal{P}(T_q)|}
$$
	<div style="height:50px;"></div>
Symbol set similarity $S_{\text{sy}}$ is a function of normalized Mark-and-Cross score $y$:
	<div style="height:20px;"></div>
$$
S_{\text{sy}} = \frac 1 {1 + (1 - y)^2}
$$
</small>
</section>

<!-- Results --> 
<section>
	<h3>Preliminary results</h3>
	<div style="height:20px;"></div>
	<img src="img/rpa-results.png" height="470px" />
	<br/>
	<small>
	(A0<sub>new</sub>-1 only considers single best matched subtree,
	A0<sub>new</sub>-2 considers<br/> top-3 best matched subtree)
	</small>
</section>

<section>
	<p>Thank you!</p>
</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="tk/mermaid.min.js"></script>
		<script>
        mermaid.initialize({startOnLoad:true});
        </script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/math/math.js', async: true } // mathjax / MathJaX plugin.
				]
			});

		</script>

	</body>
</html>
