<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>slides</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="tk/mermaid.min.css">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
<style>
::-webkit-scrollbar {
    display: none;
}
li {
	padding-bottom: 30px !important;
	margin-left: 80px !important;
	margin-right: 80px !important;
}
small {
    display: inline-block !important;
    font-size: 0.6em !important;
    line-height: 1.2em !important;
    vertical-align: top !important;
}
em {
    font-size: 0.35em !important;
    line-height: 1.2em !important;
    vertical-align: top !important;
}
b {
	font-weight: bold !important;
}

td {
   width: 100px !important;
}
th {
   width: 100px !important;
}

.reveal img {
    border: none !important;
    box-shadow: none !important; 
}

html body { background-color: white !important; }
</style>
	</head>

	<body>

<div class="reveal">
	<div class="slides">

<section>
	<p>Structure Similarity Search for Formulas using<br/>Leaf-root Paths in Operator Subtrees</p>
	<div style="height:130px;"></div>
	<p>
		<small>Wei Zhong and Richard Zanibbi</small>
	</p>
	<small>wxz8033@rit.edu, rlaz@cs.rit.edu</small>
	<div style="height:133px;"></div>
	<div>
		<img style="height:60px; padding-bottom: 15px;" src="img/ecir2019.png"/>
		<img style="height:80px; padding-top: 15px;" src="img/rit-logo.png"/>
		<img style="height:60px; padding-bottom: 10px;" src="img/dprl2019.png"/>
	</div>
</section>

<section>
	<p>Mathematical Information Retrieval (MIR)</p>
	<div style="height:60px;"></div>
	<small>
	<ul>
		<li>Detect and extract math expressions from scientific document (e.g., PDF)</li>
		<li>Computational scientific search (e.g., WolframAlpha)</li>
		<li>Handwritten formulas and formula image recognition
		(supports easier query formulation for users)</li>
		<li>Search math by similarity</li>
	</ul>
	</small>
	<div style="height:50px;"></div>
</section>

<section>
	<p>What is searching math by similarity?</p>
	<div style="height:30px; margin:0"></div>
	<div style="text-align:center">
		<div style="display: inline-block; border: 1px solid black; height:500px;">
		<img src="img/approach0.png"/>
		</div>
	</div>
	<br/>
<div style="text-align: left; line-height: 10px">
<em>
Zhong, Wei, and Hui Fang. “OPMES: A Similarity Search Engine for Mathematical Content.” In Advances in Information Retrieval, 849–52. 2016.
</em>
</div>
</section>

<section>
	<p>Problems in math similarity search</p>
	<div style="height:60px;"></div>
	<small>
	<ul>
		<li>Bag of words model may not be appropriate for highly structured content</li>
			<ul>
				<li>Sub-expression identification (e.g., $a(x+1)$ vs. $ax+1$ and $x + 1$)</li>
			</ul>
		<li>Word frequency and proximity are not enough</li>
			<ul>
				<li>Symbols can be used interchangeably (e.g., $x^2+x$ and $a^2+a$)</li>
				<li>Far-away structural match can be better than linear local match. </li>
			</ul>
		<li>How to design an effective retrieval model for formulas?</li>
		<li>...... (list goes on)</li>
	</ul>
	</small>
</section>

<section>
	<p>Math representation (Tree-based)</p>
	<div style="height:60px;"></div>
	<div style="text-align:center">
		<div style="display:inline-block; width: 400px">
			<img src="img/slt-example2.svg"/>
			<div style="height:60px;"></div>
			<small>Symbol Layout Tree</small>
		</div>
		<div style="display: inline-block; width: 80px;"></div>

		<div style="display: inline-block; width: 300px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a
	add --- power
	add --- frac
	power --- base
	power --- add2("ADD")
	base --- b("b")
	add2 --- 2("2")
	add2 --- c("c")
	frac --- rank1
	rank1 --- 1
	frac --- rank2
	rank2 --- x
</div>
	<small>Operator tree</small>
		</div>
	</div>
	<div style="height:30px;"></div>
	<small>$a+b^{2+c} + \frac 1 x$ in two different tree representations</small>
	<div style="height:30px;"></div>
<div style="text-align: left; line-height: 10px"><em>
K. Davila, R. Zanibbi. "Layout and Semantics: Combining Representations for Mathematical Formula Search". In Proceedings of the 40th International ACM SIGIR conference on Research and Development in Information Retrieval (SIGIR 2017). ACM.
</em></div>
</section>

<!--
<section>
	<p>Intuition of math expression similarity</p>
	<small>e.g., Vandermonde-like identities</small>
	<div style="height:70px;"></div>
<div style="text-align: center">
<small>
$$
\begin{aligned}
&\color{green}{2} \sum_{\color{red}{k=0}}^{\color{CYAN}{r}-1} \binom{\color{blue}{n}}{\color{SALMON}{2k}+1} \binom{\color{blue}{n}}{\color{ORANGE}{2r-2k}-1}
\\
&\color{green}{2} \sum_{\color{red}{k=0}}^\color{CYAN}{r} \binom{\color{blue}{n}}{\color{SALMON}{2k}} \binom{\color{blue}{n}}{\color{ORANGE}{2r-2k}}
\end{aligned}
$$
</small>
</div>
	<div style="height:70px;"></div>
<em>https://math.stackexchange.com/questions/216752</em>
</section>
-->

<section>
	<div style="max-height: 600px; overflow-y: hidden;">
	<span style="font-size: 0.35em !important;">
	Query:
	<span style="padding-left: 60px"></span>
	$r_{xy}=\frac{{\color{Maroon}\sum} _{{\color{Maroon}i}={\color{Maroon}1}}^{{\color{Maroon}n}}({\color{Maroon}x}_{{\color{Maroon}i}}-\bar{{\color{Maroon}x}})({\color{Maroon}y}_{{\color{Maroon}i}}-\bar{{\color{Maroon}y}})}{(n-1)s_{x}s_{y}}=\frac{{\color{Orange}\sum} _{{\color{Orange}i}={\color{Orange}1}}^{{\color{Orange}n}}(x_{i}-\bar{x})(y_{i}-\bar{y})}{\sqrt{{\color{Green}\sum} _{{\color{Green}i}={\color{Green}1}}^{{\color{Green}n}}({\color{Green}x}_{{\color{Green}i}}-\bar{{\color{Green}x}})^{{\color{Green}2}}\sum _{i=1}^{n}(y_{i}-\bar{y})^{2}}}$
	</span><br/>
	<img src="./img/query.png" height="180px"/><br/>

	<span style="font-size: 0.35em !important;">
	Document formula:
	<span style="padding-left: 60px"></span>
	$r=\frac{{\color{Maroon}\sum}^{{\color{Maroon}N}}_{{\color{Maroon}i}={\color{Maroon}1}}({\color{Maroon}X}_{{\color{Maroon}i}}-\bar{{\color{Maroon}X}})({\color{Maroon}Y}_{{\color{Maroon}i}}-\bar{{\color{Maroon}Y}})}{\sqrt{{\color{Green}\sum}^{{\color{Green}N}}_{{\color{Green}i}={\color{Green}1}}({\color{Green}X}_{{\color{Green}i}}-\bar{{\color{Green}X}})^{{\color{Green}2}}}\sqrt{{\color{Orange}\sum}^{{\color{Orange}N}}_{{\color{Orange}i}={\color{Orange}1}}(Y_{i}-\bar{Y})^{2}}}$
	</span><br/>
	<img src="./img/doc.png" height="190px"/><br/>
	</div>
</section>

<!-- multi-tree match -->
<section>
	<p>Similarity measurement</p>
	<div style="height:10px;"></div>
	<div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add2 stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
linkStyle 7 stroke:#800,stroke-width:8px;
linkStyle 8 stroke:#800,stroke-width:8px;
</div>
		<small>Query:<br/> $ (a+bc)+xy $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
	<div style="height:50px;"></div>
	<small>Common formula forest $\pi$ (highlighted in two colors)</small>
	<small>Scoring: $\gamma(\pi) = \sum_{T_q, T_d \in \pi} \beta_i (\alpha \cdot \text{operators}(T_d) + (1 - \alpha) \text{leaves}(T_d))$</small>
	<br/>
	<small>($\alpha, \beta$ are parameters, $T_q, T_d$ are trees from query and document)</small>
</section>

<!-- costly matching problem -->
<section>
	<p>Time complexity for finding common subtree</p>
	<div style="height:60px;"></div>
<ul>
<li><small>$O((m^{1.5} / \log m) \cdot n)$ $^{[1]}$ for finding subtree isomorphism</small></li>
<li><small>$O(n + m)$ $^{[2]}$ for finding largest common forest between rooted trees, but requires vertex matching outdegree, it also needs parent/children info to construct a Directed Acyclic Graph before starting aligning nodes</small></li>
</ul>
	<div style="height:70px;"></div>
<div style="text-align: left; line-height: 1">
<em>
[1] Ron Shamir, Dekel Tsur, Faster Subtree Isomorphism, Journal of Algorithms. 1999.<br/>
[2] G. Valiente, "An efficient bottom-up distance between trees," Proceedings Eighth Symposium on String Processing and Information Retrieval, 2001.
</em>
</div>
</section>

<!-- match leaf-root paths -->
<section>
	<p>Matching from leaf-root paths</p>
	<div style="height:120px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#00e,stroke-width:9px;
linkStyle 2 stroke:#00e,stroke-width:9px;
linkStyle 3 stroke:#800,stroke-width:8px;
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#00e,stroke-width:9px;
linkStyle 2 stroke:#00e,stroke-width:9px;
linkStyle 3 stroke:#800,stroke-width:8px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	</div>
	<div style="height:50px;"></div>
	<small>Assumption:</small>
	<div style="height:20px;"></div>
	<small>leaf-root paths match $\implies$ corresponding structure aligned</small>
</section>

<section>
	<p>Leaf-root path assumption may fail</p>
	<div style="height:120px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
style add2 stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
</div>
		<small>Query: $ a+bc $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
style add stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style times2 stroke:#080,stroke-width:8px
style y stroke:#080,stroke-width:8px
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 6 stroke:#080,stroke-width:8px;
</div>
		<small>Candidate: $ a+bc+xy $</small>
		</div>
	<div style="height:60px;"></div>
	<small>Reality: <br/> <br/>
	leaf-root paths match $\nRightarrow$ corresponding structure aligned.
	</small>
	</div>
</section>

<section>
	<p>Greedy width-first match assumption</p>
	<div style="height:20px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES ")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
linkStyle 4  stroke:#080,stroke-width:8px;
linkStyle 5  stroke:#080,stroke-width:8px;
style add2   stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 7  stroke:#800,stroke-width:8px;
linkStyle 8  stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x      stroke:#800,stroke-width:8px
style y      stroke:#800,stroke-width:8px
</div>
		<small>$(a+bc) + xy$ <br/> $T_1$</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES ")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add  stroke: #080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
		<small>$a+bc + xy$ <br/> $T_2$</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 240px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- POWER
	POWER --- x("x")
	POWER --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
</div>
		<small>$a+bc + x^y$ <br/> $T_3$</small>
		</div>
	</div>
	<div style="height:45px;"></div>
	<small>
We assume widest first matching will yield the best match.
	<div style="height:25px;"></div>
Similarity $\Gamma(T_1, T_2) = \gamma(\pi_{1,2}) = (3, 2, 0)$  <br/>
is greater than<br/>
Similarity $\Gamma(T_1, T_3) = \gamma(\pi_{1,3}) = (3, 0, 0)$
	<div style="height:15px;"></div>
if $\alpha = 0$ and $\beta_1 \gg \beta_2 ... \gg \beta_n$, <br/>
	</small>
</section>


<!-- Model (high level idea)--> 
<section>
	<p>Retrieval model (High level idea)</p>
	<div style="height:50px;"></div>
	<small>
	<ul>
		<li>Break the formulas into paths.</li>
		<li>At query processing time, process one document expression at a time.</li>
		<ul>
			<li>Given a set of "hit paths":</li>
			<ul>
				<li>Find the widest common subtree.</li>
				<li>Exclude the previously matched paths and find the next widest common subtree.</li>
				<li>Repeat this loop until K common subexpressions have been found.</li>
			</ul>
			<li>Match operators on top of matched paths.</li>
			<li>Calculate similarity for ranking.</li>
		</ul>
	</ul>
	</small>
</section>

<!-- Model (hit list)--> 
<section>
	<p>Hit path set</p>
	<div style="height:20px;"></div>
	<div>
		<div width="130px" style="display:inline-block">
		<!-- <img src="img/hitlist.png"></img> -->
<pre style="font-size: 0.4em; padding: 8px 0 8px 15px">
a/ADD: a/ADD.

{b, c}/TIMES: {b, c}/TIMES, {x, y}/TIMES.
{x, y}/TIMES: {b, c}/TIMES, {x, y}/TIMES.

{b, c}/TIMES/ADD: {b, c, x, y}/TIMES/ADD.
{x, y}/TIMES/ADD: {b, c, x, y}/TIMES/ADD.
</pre>
		<br/>
		<small>Hit paths (document paths on the right)</small>
		</div>
		<div style="display: inline-block; width: 40px;"></div>
		<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
style add2  stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 7 stroke:#800,stroke-width:8px;
linkStyle 8 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
		<small>$(a+bc) + xy$</small>
		</div>
		<div style="display: inline-block; width: 40px;"></div>
		<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add  stroke: #080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
		<small>$a+bc + xy$</small>
		</div>
<div style="height:30px;"></div>
<small>( $\{p, q\}$/path notation is a shorthand for p/PATH and q/PATH)</small>
</div>
</section>

<!-- Model (table 1)--> 
<section>
	<p>Example</p>
<div>
<!-- ============ TABLE =================== -->
	<div style="display: inline-block;">
<table border="1" style="font-size: 0.3em">
<tr>
<th>Qry\Doc</th><th>a/ADD, {b,c,x,y}/TIMES/ADD</th><th>{b,c}/TIMES</th><th>{x,y}/TIMES</th>
</tr>
<tr><th>a/ADD, {b,c}/TIMES/ADD</th><td style="background-color: #3a3"> {a, a}/ADD <br/> {b, b}/TIMES/ADD <br/> {c, c}/TIMES/ADD</td><td>   </td><td>   </td></tr>
<tr><th>{b,c}/TIMES</th><td>  </td><td> {b,b}/TIMES {c,c}/TIMES </td><td> {b,x}/TIMES {c,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES</th><td>      </td><td> {x,b}/TIMES {y,c}/TIMES </td><td> {x,x}/TIMES {y,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES/ADD </th><td> {x,x}/TIMES/ADD {y,y}/TIMES/ADD</td><td>   </td><td>   </td></tr>
</table>
		<div style="height:40px;"></div>
		<small>1st common subtree</small>
	</div>
	<div style="display: inline-block; width: 40px;"></div>
<!-- ============ TABLE =================== -->
	<div style="display: inline-block; width: 170px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
style add2  stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
</div>
	<small>$(a+bc) + xy$</small>
	</div>

	<div style="display: inline-block; width: 10px;"></div>

	<div style="display: inline-block; width: 170px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add  stroke: #080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
</div>
	<small>$a+bc + xy$</small>
	</div>
</div>
<!-- ====================================== -->
<div style="height:40px;"></div>
<small>highlighted cell corresponds to the best matched common subtree</small>
<small>( $\{p, q\}$/path notation in a cell indicates a pair of match between two header paths)</small>
<div style="height:60px;"></div>
</section>

<!-- Model (table 2)--> 
<section>
	<p>Example (Cont.)</p>
<div>
<!-- ============ TABLE =================== -->
	<div style="display: inline-block;">
<table border="1" style="font-size: 0.3em">
<tr>
<th>Qry\Doc</th><th>a/ADD, {b,c,x,y}/TIMES/ADD</th><th>{b,c}/TIMES</th><th>{x,y}/TIMES</th>
</tr>
<tr><th>a/ADD, {b,c}/TIMES/ADD</th><td style="background-color: #3a3"> {a, a}/ADD <br/> {b, b}/TIMES/ADD <br/> {c, c}/TIMES/ADD</td><td>   </td><td>   </td></tr>
<tr><th>{b,c}/TIMES</th><td>  </td><td> {b,b}/TIMES {c,c}/TIMES </td><td> {b,x}/TIMES {c,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES</th><td>      </td><td> {x,b}/TIMES {y,c}/TIMES </td><td style="background-color: #e55"> {x,x}/TIMES {y,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES/ADD </th><td> {x,x}/TIMES/ADD {y,y}/TIMES/ADD</td><td>   </td><td>   </td></tr>
</table>
		<div style="height:40px;"></div>
		<small>1st common subtree</small>
	</div>
	<div style="display: inline-block; width: 40px;"></div>
<!-- ============ TABLE =================== -->
	<div style="display: inline-block; width: 170px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
style add2  stroke:#080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 7 stroke:#800,stroke-width:8px;
linkStyle 8 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
	<small>$(a+bc) + xy$</small>
	</div>

	<div style="display: inline-block; width: 10px;"></div>

	<div style="display: inline-block; width: 170px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add  stroke: #080,stroke-width:8px
style times1 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
	<small>$a+bc + xy$</small>
	</div>
</div>

<div style="height:70px;"></div>
<small>
Compute next best matched subtree without conflict paths.
<div style="height:20px;"></div>
Matched tree leaves: 3, 2 and 0 respectively <br/>(the maximum number of common subtree matches $k=3$)
</small>

</section>

<!-- Model (table 3)--> 
<section>
	<p>Example (Cont.)</p>
<div>
	<div style="display: inline-block;">
<table border="1" style="font-size: 0.3em">
<tr>
<th>Qry\Doc</th><th>a/ADD, {b,c,x,y}/TIMES/ADD</th><th>{b,c}/TIMES</th><th>{x,y}/TIMES</th>
</tr>
<tr><th>a/ADD, {b,c}/TIMES/ADD</th><td style="background-color: #3a3"> {a, a}/ADD <br/> {b, b}/TIMES/ADD <br/> {c, c}/TIMES/ADD</td><td>   </td><td>   </td></tr>
<tr><th>{b,c}/TIMES</th><td>  </td><td style="background-color: #6e6"> {b,b}/TIMES {c,c}/TIMES </td><td> {b,x}/TIMES {c,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES</th><td>      </td><td> {x,b}/TIMES {y,c}/TIMES </td><td style="background-color: #e55"> {x,x}/TIMES {y,y}/TIMES </td></tr>
<tr><th>{x,y}/TIMES/ADD </th><td> {x,x}/TIMES/ADD {y,y}/TIMES/ADD</td><td>   </td><td>   </td></tr>
</table>
	<div style="height:40px;"></div>
	<small>matching operator (light green cell)</small>
	</div>
	<div style="display: inline-block; width: 40px;"></div>
<!-- ====================================== -->
	<div style="display: inline-block; width: 200px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	group("GROUP")
	add --- group
	group --- add2
	add2("ADD")
	add2 --- a("a")
	add2 --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")

	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
style add2  stroke:#080,stroke-width:8px
style times1 stroke:#6e6,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 7 stroke:#800,stroke-width:8px;
linkStyle 8 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
</div>
	<small>$(a+bc) + xy$</small>
	</div>

	<div style="display: inline-block; width: 10px;"></div>

	<div style="display: inline-block; width: 170px; height:150px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- a("a")
	add --- times1("TIMES")
	times1 --- b("b")
	times1 --- c("c")
	add --- times2("TIMES")
	times2 --- x("x")
	times2 --- y("y")
linkStyle 0  stroke:#080,stroke-width:8px;
linkStyle 1  stroke:#080,stroke-width:8px;
linkStyle 2  stroke:#080,stroke-width:8px;
linkStyle 3  stroke:#080,stroke-width:8px;
style add  stroke: #080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
style times2 stroke:#800,stroke-width:8px
style x stroke:#800,stroke-width:8px
style y stroke:#800,stroke-width:8px
style times1 stroke:#6e6,stroke-width:8px
</div>
	<small>$a+bc + xy$</small>
	</div>
<!-- ====================================== -->
</div>

<div style="height:70px;"></div>
<small>
This time find internal nodes belonging to some previous matched common trees.
<div style="height:20px;"></div>
Matched tree leaves: 2, 1 and 0 respectively <br/>(the maximum number of common subtree matches $k=3$)
</small>

</section>

<!-- visibility -->
<section>
	<p>Modification: Avoid counting "invisible" operators</p>
	<div style="height:40px;"></div>
	<div style="display: inline-block; width: 440px;">
<div class="mermaid">
graph TD;
	sqr("SQUARE")
	add("ADD")
	h("HANGER")
	add --- sqr
	add --- y("y")
	sqr --- h
	h --- base("BASE")
	h --- sub("SUBSCRIPT")
	h --- sup("SUPERSCRIPT")
	base --- x("x")
	sub --- i("i")
	sup --- 2("2")
style h stroke:#f66,stroke-width:5px,stroke-dasharray: 5, 5;
style base stroke:#f66,stroke-width:5px,stroke-dasharray: 5, 5;
style sub stroke:#f66,stroke-width:5px,stroke-dasharray: 5, 5;
style sup stroke:#f66,stroke-width:5px,stroke-dasharray: 5, 5;
</div>
	</div>

	<div style="height:20px;"></div>
	<small>Rendered expression: &nbsp; $\sqrt{x_i^2} + y$</small>
</section>

<!-- Scoring function --> 
<section>
	<p>Ranking score</p>
	<div style="height:20px;"></div>
<ul  style="font-size: 25px;">
<li>Structure similarity $S_{\text{st}}$ is normalized formula tree similarity</li>
<li>Symbol set similarity $S_{\text{sy}}$ is normalized Mark-and-Cross score$^{[1]}$</li>
<li>Overall score for ranking:
<p style="font-size: 25px;">
$$
\frac{ S_{\text{st}} S_{\text{sy}} }{ S_{\text{st}} + S_{\text{sy}} }
\left[ (1-\theta)  + \theta \frac 1 {\log(1 + |\mathcal{P}(T_d)|)} \right]
\quad (\theta = 0.05)
$$
<br/>
<br/>
($\mathcal{P}(T_d)$ is the leaf-root path set of document tree $T_d$)
</p></li>
</ul>
<div style="height:60px;"></div>
<div style="text-align: left; line-height: 0">
<em>
[1] Zhong, Wei. 2015. “A Novel Similarity-Search Method for Mathematical Content in LaTeX Markup and Its Implementation.” Thesis, University of Delaware.
</em>
</div>
</section>

<section>
<p>Evaluation</p>
<div style="height:40px;"></div>
<small>
<ul>
<li> 2016 NTCIR-12 dataset$^{[1]}$ of 590,000 formulas from English Wikipedia, including 20 non-wildcards queries. </li>
<li> Pooled hits are evaluated by two human assessors (students), scored from 0 to 4.
 Score $\ge 3$ is considered fully relevant, otherwise if score $\ge 1$ is considered partially relevant.</li>
<li> Top-1000 results are considered. </li>
<li> Bpref score (penalizes irrelevant hits ranked before relevant hits), as well as standard, condensed and upperbound Precision@K are reported.</li>
</ul>
</small>

<div style="text-align: left; line-height: 0">
<em>
[1] Zanibbi, Richard, Akiko Aizawa, and Michael Kohlhase. “NTCIR-12 MathIR Task Overview,” n.d., 10.
</em>
</div>

</section>

<!-- sample results --> 
<section>
	<p>Effect of different $\alpha, \beta$ weights</p>
	<small>($\alpha$ weights the impact of operators/operands, $\beta$ weights the impact of different subtrees)</small>
	<div style="height:10px;"></div>
	<div style="display:inline-block; width: 225px; overflow-x: hidden; ">
		<img src="img/weights-dist.png" style="min-width:350px" />
	</div>
	<div style="display:inline-block; width: 25px;"></div>
	<img src="img/weights-dist.svg" width="350px" />
	<br/>
	<small>
	(1) Evenly distributed beta weights are not effective, (2) weighting operands higher may boost effectiveness, (3) multi-tree matching helps, but small gap over single-tree matching.
	</small>
</section>

<section>
	<p>Effect of different $\alpha, \beta$ weights</p>
	<small>($\alpha$ weights the impact of operators/operands, $\beta$ weights the impact of different subtrees)</small>
	<div style="height:10px;"></div>
	<div style="display:inline-block; width: 225px; overflow-x: hidden; ">
		<img src="img/weights-dist.png" style="min-width:350px" />
	</div>
	<div style="display:inline-block; width: 25px;"></div>
	<img src="img/weights-dist.svg" width="350px" />
	<br/>
	<small>
	(1) Evenly distributed beta weights are not effective, (2) weighting operands higher may boost effectiveness, (3) multi-tree matching helps, but small gap over single-tree matching.
	</small>
</section>

<section>
	<p>Effect of different $\alpha, \beta$ weights</p>
	<small>($\alpha$ weights the impact of operators/operands, $\beta$ weights the impact of different subtrees)</small>
	<div style="height:10px;"></div>
	<div style="display:inline-block; width: 225px; overflow-x: hidden; ">
		<img src="img/weights-dist.png" style="min-width:350px" />
	</div>
	<div style="display:inline-block; width: 25px;"></div>
	<img src="img/weights-dist.svg" width="350px" />
	<br/>
	<small>
	(1) Evenly distributed beta weights are not effective, (2) weighting operands higher may boost effectiveness, (3) multi-tree matching helps, but small gap over single-tree matching.
	</small>
</section>

<!-- Results --> 
<section>
	<p>Uniform weights effectiveness over different $k$</p>
	<div style="height:10px;"></div>
	<img src="./img/diff-k.svg" width="320px" style="float: left; padding-left: 40px;"/>

	<div style="width: 500px; height: 380px; background-color: white; overflow-x: hidden; overflow-y: hidden">
	<div style="height:10px;"></div>
	<span style="font-size: 0.35em !important;">
	4. $\mathbf{\nabla}\times\mathbf{B}=\mu_{0}\mathbf{J}+\underbrace{\mu_{0}\epsilon_{0}\frac{\partial}{\partial t}\mathbf{E}}_{\mathrm{Maxwell^{\prime}s\ term}}$
	<span style="padding-left: 60px"></span>
	<br/>
	6. $\,{}^{238}_{92}\mathrm{U}+\,^{64}_{28}\mathrm{Ni}\to\,^{302}_{120}\mathrm{Ubn}^{*}\to\ \mathit{fission\ only}$
	<br/>
	8. $w=\begin{cases}w^{*}&\mbox{if }w^{*}>\frac{1}{2},\\ \frac{1}{2}&\mbox{if }w^{*}\leq\frac{1}{2}.\\ \end{cases}$
	<span style="padding-left: 60px"></span>
	14. $\cos\alpha=-\cos\beta\cos\gamma+\sin\beta\sin\gamma\cosh\frac{a}{k},\,$
	<br/>
	16. $\tau_{\text{rms}}=\sqrt{\frac{\int_{0}^{\infty}(\tau-\overline{\tau})^{2}A_{c}(\tau)d\tau}{\int_{0}^{\infty}A_{c}(\tau)d\tau}}$
	<span style="padding-left: 60px"></span>
	18. $P_{i}^{x}=\frac{N!}{n_{x}!(N-n_{x})!}p_{x}^{n_{x}}(1-p_{x})^{N-n_{x}}$
	<br/>
	20. $r_{xy}=\frac{\sum\limits_{i=1}^{n}(x_{i}-\bar{x})(y_{i}-\bar{y})}{(n-1)s_{x}s_{y}}=\frac{\sum\limits_{i=1}^{n}(x_{i}-\bar{x})(y_{i}-\bar{y})}{\sqrt{\sum\limits_{i=1}^{n}(x_{i}-\bar{x})^{2}\sum\limits_{i=1}^{n}(y_{i}-\bar{y})^{2}}},$
	</em>
	</div>
	<div style="height:40px;"></div>
	<small>
	(1) Query behaviours vary on different $k$ values, (2) most queries do not gain<br/> any thing from multiple tree matching, given uniform weights, and <br/>(3) those who can benefit are those can be identified even breaking into parts.
	</small>
</section>

<section>
	<p>Comparison with other systems</p>
	<div style="height:15px;"></div>
	<img src="./img/compare.png" style="min-height:300px;"/>
	<div style="height:45px;"></div>
	<small>
	We can consistently outperform others in fully relevant results, except for standard Precision@K metrics due to missing judgements. Partially relevant results are not quite strong since there are less significant common structures.
	</small>
</section>

<section>
	<p>Runtime efficiency</p>
	<div style="height:15px;"></div>
	<img src="./img/efficiency.svg" height="300px" />
	<br/>
	<small>
	No significant outliers, still not considered usable system,<br/> but there are great potential we can foresee.
	</small>
</section>

<section>
	<p>Conclusion</p>
	<div style="height:20px;"></div>
	<small>
	<ul>
		<li>Structure matching of common subexpressions is good at identifying fully relevant results.</li>
		<li>Slightly more weights on operands, and non-uniform weights boost performance, improve the model by avoiding to count "invisible" operators.</li>
		<li>Consistent performance, computation bounded, great potential to improve (with lengthy query).
	</ul>
	</small>

	<p>Future agenda</p>
	<small>
	<ul>
		<li>Improve efficiency by pruning and skipping, improve partially relevant results (possibly by using statistical learning).</li>
		<li>Implement wildcards, handle "math synonyms", and combine text keywords into query.</li>
	</ul>
	</small>
</section>

<section>
	<p>Thank you!</p>
	<div style="height:60px;"></div>
		<em>Thanks to my advisor, paper reviewers, lab colleagues and Alfred P. Sloan foundation.</em>
	<div style="height:90px;">
		<img src="img/sloan-logo.png"/>
	</div>
	<div style="margin-top: 100px">
		<img style="height:60px; padding-bottom: 15px;" src="img/ecir2019.png"/>
		<img style="height:80px; padding-top: 15px;" src="img/rit-logo.png"/>
		<img style="height:60px; padding-bottom: 10px;" src="img/dprl2019.png"/>
	</div>
</section>

<!-- gready width match (assumption) -->
<section>
	<p>Greedy width-first match assumption</p>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- times("TIMES")
	add --- times2("TIMES")
	times --- a("a")
	times --- b("b")
	times2 --- c("c")
	times2 --- d("d")
	times2 --- e("e")
style add stroke:#080,stroke-width:8px
style times stroke:#080,stroke-width:8px
style times2 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
style d stroke:#080,stroke-width:8px
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 1 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#080,stroke-width:8px;
linkStyle 5 stroke:#080,stroke-width:8px;
</div>
		<small>Query: $ \color{green}{ab + cd}e $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	root("FRAC")
	root --- add
	root --- times3("TIMES")
	times3 --- e("c")
	times3 --- f("d")
	times3 --- g("e")
	add("ADD")
	add --- times("TIMES")
	add --- times2("TIMES")
	times --- a("a")
	times --- b("b")
	times2 --- c("c")
	times2 --- d("d")
style add stroke:#080,stroke-width:8px
style times stroke:#080,stroke-width:8px
style times2 stroke:#080,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#080,stroke-width:8px
style d stroke:#080,stroke-width:8px
linkStyle 5 stroke:#080,stroke-width:8px;
linkStyle 6 stroke:#080,stroke-width:8px;
linkStyle 7 stroke:#080,stroke-width:8px;
linkStyle 8 stroke:#080,stroke-width:8px;
linkStyle 9 stroke:#080,stroke-width:8px;
linkStyle 10 stroke:#080,stroke-width:8px;
</div>
		<small>Candidate: $ \frac{\color{green}{ab + cd}}{cde} $</small>
		</div>
	<div style="height:30px;"></div>
	<small>Reality: <br/>
	Greedy widest match $\nRightarrow$ optimal formula tree similarity.
	</small>
	</div>
</section>

<section>
	<p>This assumption may not hold neither</p>
	<div style="height:50px;"></div>
	<div>
		<div style="display: inline-block; width: 200px; height:100px;">
<div class="mermaid">
graph TD;
	add("ADD")
	add --- times("TIMES")
	add --- times2("TIMES")
	times --- a("a")
	times --- b("b")
	times2 --- c("c")
	times2 --- d("d")
	times2 --- e("e")
style add stroke:#080,stroke-width:8px
style times stroke:#080,stroke-width:8px
style times2 stroke:#800,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style c stroke:#800,stroke-width:8px
style d stroke:#800,stroke-width:8px
style e stroke:#800,stroke-width:8px
linkStyle 0 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#080,stroke-width:8px;
linkStyle 3 stroke:#080,stroke-width:8px;
linkStyle 4 stroke:#800,stroke-width:8px;
linkStyle 5 stroke:#800,stroke-width:8px;
linkStyle 6 stroke:#800,stroke-width:8px;
</div>
		<small>Query: $ \color{green}{ab +} \color{maroon}{cde} $</small>
		</div>
		<div style="display: inline-block; width: 100px;"></div>
		<div style="display: inline-block; width: 300px; height:200px;">
<div class="mermaid">
graph TD;
	root("FRAC")
	root --- add
	root --- times3("TIMES")
	times3 --- e("c")
	times3 --- f("d")
	times3 --- g("e")
	add("ADD")
	add --- times("TIMES")
	add --- times2("TIMES")
	times --- a("a")
	times --- b("b")
	times2 --- c("c")
	times2 --- d("d")
style add stroke:#080,stroke-width:8px
style times stroke:#080,stroke-width:8px
style times3 stroke:#800,stroke-width:8px
style a stroke:#080,stroke-width:8px
style b stroke:#080,stroke-width:8px
style e stroke:#800,stroke-width:8px
style f stroke:#800,stroke-width:8px
style g stroke:#800,stroke-width:8px
linkStyle 5 stroke:#080,stroke-width:8px;
linkStyle 7 stroke:#080,stroke-width:8px;
linkStyle 8 stroke:#080,stroke-width:8px;
linkStyle 2 stroke:#800,stroke-width:8px;
linkStyle 3 stroke:#800,stroke-width:8px;
linkStyle 4 stroke:#800,stroke-width:8px;
</div>
		<small>Candidate: $ \frac{\color{green}{ab +} cd}{\color{maroon}{cde}} $</small>
		</div>
	<div style="height:30px;"></div>
	<small>Reality: <br/>
	Greedy widest match $\nRightarrow$ optimal formula tree similarity.
	</small>
	</div>
</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="tk/mermaid.min.js"></script>
		<script>
        mermaid.initialize({startOnLoad:true});
        </script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/math/math.js', async: true } // mathjax / MathJaX plugin.
				]
			});

			Reveal.configure({ slideNumber: true });
			Reveal.configure({ slideNumber: 'c/t' });

		</script>

	</body>
</html>
